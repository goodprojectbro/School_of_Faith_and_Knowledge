<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ø¥ÙŠÙ…Ø§Ù† ÙˆØ§Ù„Ù…Ø¹Ø±ÙØ© - Ù…Ù†ØµØ© ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø°ÙƒÙŠØ©</title>
  <!-- Tailwind v2.2.19 -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.worker.min.js"></script>
  <style>
    :root {
      --primary: #8b5cf6;
      --primary-dark: #7c3aed;
      --secondary: #ec4899;
      --accent: #10b981;
      --bg-light: #f3f4f6;
      --text-dark: #1f2937;
    }

    body {
      font-family: 'Cairo', sans-serif;
      background: linear-gradient(135deg, #f0fdfa 0%, #f3f4f6 100%);
      color: var(--text-dark);
      height: 100vh;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    .glass-panel {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(12px);
      border-bottom: 1px solid rgba(0, 0, 0, 0.05);
    }

    .sidebar-item {
      transition: all 0.2s;
    }

    .sidebar-item:hover {
      background-color: #f3f4f6;
    }

    .sidebar-item.active {
      background-color: #eef2ff;
      color: var(--primary);
      border-right: 3px solid var(--primary);
    }

    .submenu-item {
      transition: all 0.2s;
    }

    .submenu-item:hover {
      background-color: #f9fafb;
      color: var(--secondary);
    }

    .submenu-item.active {
      background-color: #fce7f3;
      color: var(--secondary);
      font-weight: bold;
    }

    .video-card {
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .video-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
    }

    .custom-scrollbar::-webkit-scrollbar {
      width: 6px;
    }

    .custom-scrollbar::-webkit-scrollbar-track {
      background: #f1f1f1;
    }

    .custom-scrollbar::-webkit-scrollbar-thumb {
      background: #d1d5db;
      border-radius: 3px;
    }

    .custom-scrollbar::-webkit-scrollbar-thumb:hover {
      background: #9ca3af;
    }

    .file-card {
      transition: all 0.2s;
    }

    .file-card:hover {
      border-color: var(--primary);
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
    }

    .submenu {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease-out;
    }

    .submenu.open {
      max-height: 500px;
      transition: max-height 0.3s ease-in;
    }

    /* Sidebar Transition */
    aside {
      transition: width 0.3s ease-in-out, padding 0.3s ease-in-out;
    }
  </style>
</head>

<body class="bg-gray-50">

  <!-- Navbar -->
  <nav class="glass-panel h-16 flex-shrink-0 z-50 px-6 flex items-center justify-between shadow-sm">
    <div class="flex items-center gap-3">
      <!-- Sidebar Toggle Button (Navbar - Opener/Toggler) -->
      <button onclick="toggleSidebar()"
        class="p-2 rounded-full hover:bg-gray-100 transition-colors focus:outline-none text-gray-600"
        title="Ø¥Ø¸Ù‡Ø§Ø±/Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©">
        <svg id="navbarToggleIcon" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      </button>

      <div
        class="w-10 h-10 rounded-xl bg-gradient-to-tr from-purple-600 to-pink-500 flex items-center justify-center text-white font-bold text-xl shadow-lg">
        IM
      </div>
      <span class="text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-purple-600 to-pink-600">
        Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ø¥ÙŠÙ…Ø§Ù† ÙˆØ§Ù„Ù…Ø¹Ø±ÙØ©
      </span>
    </div>
    <div class="flex items-center gap-4">
      <div
        class="w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center text-purple-600 font-bold border border-purple-200">
        A
      </div>
    </div>
  </nav>

  <!-- App Layout -->
  <div class="flex flex-grow overflow-hidden relative">

    <!-- Right Sidebar (Grades) -->
    <aside id="mainSidebar"
      class="w-72 bg-white border-l border-gray-200 flex flex-col shadow-lg z-20 h-full overflow-hidden flex-shrink-0">
      <div
        class="p-4 border-b border-gray-100 bg-gray-50 flex-shrink-0 flex justify-between items-center whitespace-nowrap overflow-hidden">
        <h2 class="font-bold text-gray-700 flex items-center gap-2">
          <svg class="w-5 h-5 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h7"></path>
          </svg>
          Ø§Ù„Ù…Ø±Ø§Ø­Ù„ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©
        </h2>
        <!-- Close Button -->
        <button onclick="toggleSidebar()"
          class="p-1 rounded-full hover:bg-gray-200 text-gray-500 transition-colors focus:outline-none"
          title="Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©">
          <svg class="w-5 h-5 transform rotate-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 5l7 7-7 7M5 5l7 7-7 7"></path>
          </svg>
        </button>
      </div>
      <div class="flex-grow overflow-y-auto custom-scrollbar p-2 space-y-2 whitespace-nowrap" id="sidebarContent">
        <!-- Dynamic Content -->
      </div>
    </aside>

    <!-- Main Content (Left) -->
    <main
      class="flex-grow bg-gray-100 overflow-y-auto custom-scrollbar p-6 md:p-10 relative transition-all duration-300">
      <div class="absolute inset-0 z-0 opacity-5 pointer-events-none"
        style="background-image: url('data:image/svg+xml,%3Csvg width=\'60\' height=\'60\' viewBox=\'0 0 60 60\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Cg fill=\'none\' fill-rule=\'evenodd\'%3E%3Cg fill=\'%239C92AC\' fill-opacity=\'1\'%3E%3Cpath d=\'M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z\'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E');">
      </div>

      <div id="welcomeState" class="flex flex-col items-center justify-center h-full text-center text-gray-500">
        <div class="w-24 h-24 bg-purple-100 rounded-full flex items-center justify-center mb-6 animate-bounce">
          <svg class="w-12 h-12 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
          </svg>
        </div>
        <h1 class="text-2xl font-bold text-gray-800 mb-2">Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù…Ù†ØµØ© Ø§Ù„Ø¥ÙŠÙ…Ø§Ù† ÙˆØ§Ù„Ù…Ø¹Ø±ÙØ©</h1>
        <p>Ø§Ø®ØªØ± Ø§Ù„ØµÙ ÙˆØ§Ù„Ù…Ø§Ø¯Ø© Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø­ØªÙˆÙ‰</p>
      </div>

      <div id="contentArea" class="hidden relative z-10">
        <header class="flex items-center justify-between mb-8 pb-4 border-b border-gray-200">
          <div>
            <div class="flex items-center gap-2 text-sm text-gray-500 mb-1">
              <span id="breadcrumbGrade"></span>
              <svg class="w-4 h-4 rtl:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
              </svg>
              <span class="text-purple-600 font-semibold" id="breadcrumbSubject"></span>
            </div>
            <h1 class="text-3xl font-bold text-gray-800" id="currentSubjectTitle"></h1>
          </div>
        </header>

        <!-- PDF Summaries Section -->
        <div class="mb-12" id="pdfSection">
          <h3 class="text-lg font-bold text-gray-700 mb-4 flex items-center gap-2">
            <span class="p-1.5 bg-red-100 text-red-500 rounded-lg">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z">
                </path>
              </svg>
            </span>
            Ù…Ù„Ø®ØµØ§Øª PDF
          </h3>
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4" id="pdfContainer">
            <!-- Dynamic PDFs -->
          </div>
        </div>

        <!-- Videos Section -->
        <div>
          <h3 class="text-lg font-bold text-gray-700 mb-4 flex items-center gap-2">
            <span class="p-1.5 bg-purple-100 text-purple-600 rounded-lg">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z">
                </path>
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
            </span>
            Ø´Ø±Ø­ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ
          </h3>
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-6" id="videoContainer">
            <!-- Dynamic Videos -->
          </div>
        </div>
      </div>
    </main>
  </div>

  <!-- PDF Viewer Modal -->
  <div id="pdfModal" class="fixed inset-0 hidden" style="z-index: 9999;">
    <div class="absolute inset-0 bg-black bg-opacity-50 backdrop-filter backdrop-blur-sm transition-opacity"
      onclick="closePDF()"></div>
    <div
      class="absolute inset-4 md:inset-10 bg-white rounded-2xl shadow-2xl flex flex-col overflow-hidden animate-in fade-in zoom-in duration-200">
      <div class="flex justify-between items-center p-4 border-b bg-gray-50">
        <h3 class="font-bold text-lg text-gray-800" id="pdfModalTitle">View PDF</h3>
        <button onclick="closePDF()" class="p-2 hover:bg-gray-200 rounded-lg transition-colors text-gray-500">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
          </svg>
        </button>
      </div>
      <iframe id="pdfFrame" class="flex-grow w-full h-full border-0 bg-gray-100"></iframe>
    </div>
  </div>

  <script>
    // Data Structure (Preserved)
    const curriculumData = {
      '4': { name: "Ø§Ù„Ø±Ø§Ø¨Ø¹ Ø§Ù„Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ", subjects: [] },
      '5': { name: "Ø§Ù„Ø®Ø§Ù…Ø³ Ø§Ù„Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ", subjects: [] },
      '6': { name: "Ø§Ù„Ø³Ø§Ø¯Ø³ Ø§Ù„Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ", subjects: [] },
      '7': { name: "Ø§Ù„Ø£ÙˆÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ÙŠ", subjects: [] },
      '8': {
        name: "Ø§Ù„Ø«Ø§Ù†ÙŠ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ÙŠ",
        subjects: [
          {
            id: 'tech',
            name: 'ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª',
            icon: 'ğŸ’»',
            videos: [
              { title: 'Ø¥Ù†Ø´Ø§Ø¡ Ù…ÙˆÙ‚Ø¹ Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ', file: 'Ø¥Ù†Ø´Ø§Ø¡_Ù…ÙˆÙ‚Ø¹_Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡_Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ.mp4', summary: null },
              { title: 'Ø§Ù„Ø£Ù†Ø¸Ù…Ø© Ø§Ù„Ø°ÙƒÙŠØ© ÙˆØªØ£Ø«ÙŠØ±Ù‡Ø§ Ø¹Ù„Ù‰ ØªØºÙŠØ± Ø§Ù„Ù…Ù†Ø§Ø®', file: 'Ø§Ù„Ø£Ù†Ø¸Ù…Ø©_Ø§Ù„Ø°ÙƒÙŠØ©_ÙˆØªØ£Ø«ÙŠØ±Ù‡Ø§_Ø¹Ù„Ù‰_ØªØºÙŠØ±_Ø§Ù„Ù…Ù†Ø§Ø®.mp4', summary: null },
              { title: 'Ø§Ù„ØªÙ‡Ø¯ÙŠØ¯Ø§Øª Ø§Ù„Ø³ÙŠØ¨Ø±Ø§Ù†ÙŠØ© Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©', file: 'Ø§Ù„ØªÙ‡Ø¯ÙŠØ¯Ø§Øª_Ø§Ù„Ø³ÙŠØ¨Ø±Ø§Ù†ÙŠØ©_Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©.mp4', summary: null },
              { title: 'Ø¨ÙŠØ§Ù†Ø§Øª Ø¶Ø®Ù…Ø© ÙˆØ°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ', file: 'Ø¨ÙŠØ§Ù†Ø§Øª_Ø¶Ø®Ù…Ø©_ÙˆØ°ÙƒØ§Ø¡_Ø§ØµØ·Ù†Ø§Ø¹ÙŠ.mp4', summary: null },
              { title: 'ØªÙ†Ø³ÙŠÙ‚ ØµÙØ­Ø§Øª Ø§Ù„ÙˆÙŠØ¨ Ø¨Ù€ CSS', file: 'ØªÙ†Ø³ÙŠÙ‚_ØµÙØ­Ø§Øª_Ø§Ù„ÙˆÙŠØ¨_Ø¨Ù€_CSS.mp4', summary: null },
              { title: 'Ù…Ø¨Ø§Ø¯Ø¦ ØªØµÙ…ÙŠÙ… Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹ Ø§Ù„Ø±Ø§Ø¦Ø¹Ø©', file: 'Ù…Ø¨Ø§Ø¯Ø¦_ØªØµÙ…ÙŠÙ…_Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹_Ø§Ù„Ø±Ø§Ø¦Ø¹Ø©.mp4', summary: null },
              { title: 'Ù…Ø´Ø±ÙˆØ¹ÙŠ Ø§Ù„Ø±Ù‚Ù…ÙŠ Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠ', file: 'Ù…Ø´Ø±ÙˆØ¹ÙŠ_Ø§Ù„Ø±Ù‚Ù…ÙŠ_Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠ.mp4', summary: null },
              { title: 'Ù…Ù„Ø®Øµ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¶Ø®Ù…Ø©', file: 'Ù…Ù„Ø®Øµ_Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª_Ø§Ù„Ø¶Ø®Ù…Ø©.mp4', summary: 'Ù…Ù„Ø®Øµ_Ø§Ù„Ù…Ù†Ù‡Ø¬_Ø§Ù„Ø°ÙƒÙŠ_Ù„ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§_Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª.pdf' }
            ],
            pdfs: [
              { title: 'Ù…Ù„Ø®Øµ Ø§Ù„Ù…Ù†Ù‡Ø¬ Ø§Ù„Ø°ÙƒÙŠ', file: 'Ù…Ù„Ø®Øµ_Ø§Ù„Ù…Ù†Ù‡Ø¬_Ø§Ù„Ø°ÙƒÙŠ_Ù„ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§_Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª.pdf' }
            ]
          },
          {
            id: 'social',
            name: 'Ø§Ù„Ø¯Ø±Ø§Ø³Ø§Øª',
            icon: 'ğŸŒ',
            videos: [
              { title: 'Ø¬ØºØ±Ø§ÙÙŠØ§ Ø£ÙˆØ±Ø§Ø³ÙŠØ§: Ù‚Ø§Ø±Ø© ÙˆØ§Ø­Ø¯Ø©ØŒ Ø¹Ø§Ù„Ù…Ø§Ù†', file: 'Ø¬ØºØ±Ø§ÙÙŠØ§_Ø£ÙˆØ±Ø§Ø³ÙŠØ§__Ù‚Ø§Ø±Ø©_ÙˆØ§Ø­Ø¯Ø©ØŒ_Ø¹Ø§Ù„Ù…Ø§Ù†.mp4', summary: null },
              { title: 'Ø§Ù„Ù…Ø¹Ø§Ø¯Ù†: Ù…Ø­Ø±ÙƒØ§Øª Ø¢Ø³ÙŠØ§ ÙˆØ£ÙˆØ±ÙˆØ¨Ø§', file: 'Ø§Ù„Ù…Ø¹Ø§Ø¯Ù†__Ù…Ø­Ø±ÙƒØ§Øª_Ø¢Ø³ÙŠØ§_ÙˆØ£ÙˆØ±ÙˆØ¨Ø§.mp4', summary: null },
              { title: 'Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„Ø·Ø§Ù‚Ø©: ÙˆÙ‚ÙˆØ¯ Ø¢Ø³ÙŠØ§ ÙˆØ£ÙˆØ±ÙˆØ¨Ø§', file: 'Ù…Ø¹Ø§Ø¯Ù„Ø©_Ø§Ù„Ø·Ø§Ù‚Ø©__ÙˆÙ‚ÙˆØ¯_Ø¢Ø³ÙŠØ§_ÙˆØ£ÙˆØ±ÙˆØ¨Ø§.mp4', summary: null },
              { title: 'Ø¨Ù†Ø§Ø¡ Ø¨Ù„Ø§Ø¯ Ù…Ø§ Ø¨ÙŠÙ† Ø§Ù„Ù†Ù‡Ø±ÙŠÙ†', file: 'Ø¨Ù†Ø§Ø¡_Ø¨Ù„Ø§Ø¯_Ù…Ø§_Ø¨ÙŠÙ†_Ø§Ù„Ù†Ù‡Ø±ÙŠÙ†.mp4', summary: null },
              { title: 'Ø§Ù„ÙÙŠÙ†ÙŠÙ‚ÙŠÙˆÙ†: Ø£Ø³ÙŠØ§Ø¯ Ø§Ù„Ø¨Ø­Ø±', file: 'Ø§Ù„ÙÙŠÙ†ÙŠÙ‚ÙŠÙˆÙ†__Ø£Ø³ÙŠØ§Ø¯_Ø§Ù„Ø¨Ø­Ø§Ø±.mp4', summary: null },
              { title: 'Ù…Ù…Ø§Ù„Ùƒ Ø§Ù„ÙŠÙ…Ù† Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©: Ù‚ÙˆØ© Ù…Ù†Ø³ÙŠØ©', file: 'Ù…Ù…Ø§Ù„Ùƒ_Ø§Ù„ÙŠÙ…Ù†_Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©__Ù‚ÙˆØ©_Ù…Ù†Ø³ÙŠØ©.mp4', summary: null },
              { title: 'Ø¹Ù…Ø§Ù„Ù‚Ø© Ø§Ù„Ø´Ø±Ù‚ Ø§Ù„Ù‚Ø¯ÙŠÙ…: Ø§Ù„Ù‡Ù†Ø¯ ÙˆØ§Ù„ØµÙŠÙ†', file: 'Ø¹Ù…Ø§Ù„Ù‚Ø©_Ø§Ù„Ø´Ø±Ù‚_Ø§Ù„Ù‚Ø¯ÙŠÙ…__Ø§Ù„Ù‡Ù†Ø¯_ÙˆØ§Ù„ØµÙŠÙ†.mp4', summary: null },
              { title: 'Ø§Ù„Ø­Ø¶Ø§Ø±Ø© Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©: Ù‚ÙˆØ© Ø¹Ø§Ù„Ù…ÙŠØ©', file: 'Ø§Ù„Ø­Ø¶Ø§Ø±Ø©_Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©__Ù‚ÙˆØ©_Ø¹Ø§Ù„Ù…ÙŠØ©.mp4', summary: null },
              { title: 'Ù†Ø¸Ø§Ù… Ø¢Ø³ÙŠØ§ ÙˆØ£ÙˆØ±ÙˆØ¨Ø§ Ø§Ù„Ø¨ÙŠØ¦ÙŠ', file: 'Ù†Ø¸Ù…_Ø¢Ø³ÙŠØ§_ÙˆØ£ÙˆØ±ÙˆØ¨Ø§_Ø§Ù„Ø¨ÙŠØ¦ÙŠØ©.mp4', summary: null },
              { title: 'Ù†Ø¸Ø§Ù… Ø§Ù„Ø­Ø´Ø§Ø¦Ø´ Ø¨Ø¢Ø³ÙŠØ§ ÙˆØ£ÙˆØ±ÙˆØ¨Ø§', file: 'Ù†Ø¸Ù…_Ø§Ù„Ø­Ø´Ø§Ø¦Ø´_Ø¨Ø¢Ø³ÙŠØ§_ÙˆØ£ÙˆØ±ÙˆØ¨Ø§.mp4', summary: null },
              { title: 'Ø§Ù„Ù†Ø¸Ù… Ø§Ù„Ø¨ÙŠØ¦ÙŠØ© Ø§Ù„Ù…Ø§Ø¦ÙŠØ© ÙÙŠ Ø¢Ø³ÙŠØ§ ÙˆØ£ÙˆØ±ÙˆØ¨Ø§', file: 'Ø§Ù„Ù†Ø¸Ù…_Ø§Ù„Ø¨ÙŠØ¦ÙŠØ©_Ø§Ù„Ù…Ø§Ø¦ÙŠØ©_ÙÙŠ_Ø¢Ø³ÙŠØ§_ÙˆØ£ÙˆØ±ÙˆØ¨Ø§.mp4', summary: null },
              { title: 'ÙØ±Ø§Ø¹Ù†Ø© Ù…ØµØ± Ø§Ù„ÙŠÙˆÙ†Ø§Ù†ÙŠÙˆÙ†', file: 'ÙØ±Ø§Ø¹Ù†Ø©_Ù…ØµØ±_Ø§Ù„ÙŠÙˆÙ†Ø§Ù†ÙŠÙˆÙ†.mp4', summary: null },
              { title: 'Ø§Ù„Ø­Ø¶Ø§Ø±Ø© Ø§Ù„Ø±ÙˆÙ…Ø§Ù†ÙŠØ© ÙÙŠ Ù…ØµØ±', file: 'Ø§Ù„Ø­Ø¶Ø§Ø±Ø©_Ø§Ù„Ø±ÙˆÙ…Ø§Ù†ÙŠØ©_ÙÙŠ_Ù…ØµØ±.mp4', summary: null }
            ],
            pdfs: []
          }
        ]
      },
      '9': { name: "Ø§Ù„Ø«Ø§Ù„Ø« Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ÙŠ", subjects: [] }
    };

    // UI Generation Logic
    document.addEventListener('DOMContentLoaded', () => {
      renderSidebar();
    });

    function renderSidebar() {
      const container = document.getElementById('sidebarContent');
      container.innerHTML = '';

      Object.keys(curriculumData).forEach(gradeId => {
        const grade = curriculumData[gradeId];

        const gradeItem = document.createElement('div');

        const button = document.createElement('button');
        button.className = 'sidebar-item w-full flex items-center justify-between p-3 rounded-lg text-gray-700 font-semibold focus:outline-none';
        button.onclick = () => toggleGrade(gradeId);
        button.innerHTML = `
                    <div class="flex items-center gap-2">
                        <span class="text-sm bg-purple-100 text-purple-700 px-2 py-0.5 rounded text-xs font-bold">${gradeId}</span>
                        ${grade.name}
                    </div>
                    <svg id="chevron-${gradeId}" class="w-4 h-4 transition-transform text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
                `;

        const submenu = document.createElement('div');
        submenu.id = `submenu-${gradeId}`;
        submenu.className = 'submenu bg-gray-50 rounded-b-lg mb-1';

        if (grade.subjects && grade.subjects.length > 0) {
          grade.subjects.forEach(subject => {
            const subBtn = document.createElement('button');
            subBtn.className = 'submenu-item w-full text-right pr-10 pl-4 py-2 text-sm text-gray-600 hover:text-purple-600 flex items-center gap-2';
            subBtn.onclick = (e) => {
              e.stopPropagation();
              selectSubject(gradeId, subject.id);
            };
            subBtn.innerHTML = `
                            <span>${subject.icon || 'â€¢'}</span>
                            ${subject.name}
                        `;
            submenu.appendChild(subBtn);
          });
        } else {
          const empty = document.createElement('div');
          empty.className = 'text-xs text-gray-400 pr-10 py-2 italic';
          empty.innerText = 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…ÙˆØ§Ø¯ Ù…ØªØ§Ø­Ø©';
          submenu.appendChild(empty);
        }

        gradeItem.appendChild(button);
        gradeItem.appendChild(submenu);
        container.appendChild(gradeItem);
      });
    }

    function toggleSidebar() {
      const sidebar = document.getElementById('mainSidebar');
      // Check current width state
      const isClosed = sidebar.classList.contains('w-0');

      if (isClosed) {
        // OPEN
        sidebar.classList.remove('w-0', 'p-0');
        sidebar.classList.add('w-72');
      } else {
        // CLOSE
        sidebar.classList.remove('w-72');
        sidebar.classList.add('w-0', 'p-0');
      }
    } function toggleGrade(gradeId) {
      const submenu = document.getElementById(`submenu-${gradeId}`);
      const chevron = document.getElementById(`chevron-${gradeId}`);

      if (submenu.classList.contains('open')) {
        submenu.classList.remove('open');
        chevron.classList.remove('rotate-180');
      } else {
        submenu.classList.add('open');
        chevron.classList.add('rotate-180');
      }
    }

    function selectSubject(gradeId, subjectId) {
      const grade = curriculumData[gradeId];
      const subject = grade.subjects.find(s => s.id === subjectId);

      if (!subject) return;

      document.querySelectorAll('.submenu-item').forEach(el => el.classList.remove('active'));
      const activeBtn = Array.from(document.querySelectorAll('.submenu-item')).find(el => el.innerHTML.includes(subject.name));
      if (activeBtn) activeBtn.classList.add('active');

      document.getElementById('welcomeState').classList.add('hidden');
      document.getElementById('contentArea').classList.remove('hidden');

      document.getElementById('breadcrumbGrade').innerText = grade.name;
      document.getElementById('breadcrumbSubject').innerText = subject.name;
      document.getElementById('currentSubjectTitle').innerText = subject.name;

      renderPDFs(subject.pdfs || []);
      renderVideos(subject.videos);
    }

    function renderPDFs(pdfs) {
      const container = document.getElementById('pdfContainer');
      container.innerHTML = '';
      const section = document.getElementById('pdfSection');

      if (!pdfs || pdfs.length === 0) {
        container.innerHTML = '<div class="col-span-full text-center text-gray-400 py-4 border border-dashed border-gray-200 rounded-xl">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù„Ø®ØµØ§Øª Ù…ØªØ§Ø­Ù‡ Ø­Ø§Ù„ÙŠØ§Ù‹ Ù„Ù‡Ø°Ø§ Ø§Ù„Ù…Ù‚Ø±Ø±</div>';
        return;
      }

      pdfs.forEach(pdf => {
        const card = document.createElement('div');
        card.onclick = () => openPDF(pdf.file, pdf.title);
        card.className = 'file-card bg-white p-4 rounded-xl border border-gray-100 cursor-pointer flex items-center gap-3 shadow-sm hover:shadow-md group h-full';
        card.innerHTML = `
                    <div class="w-12 h-12 rounded-lg bg-red-50 text-red-500 flex items-center justify-center flex-shrink-0 group-hover:bg-red-500 group-hover:text-white transition-colors">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>
                    </div>
                    <div class="flex-grow min-w-0">
                        <div class="font-bold text-gray-800 text-sm truncate" title="${pdf.title}">${pdf.title}</div>
                        <div class="text-xs text-gray-400 mt-1">Ø§Ø¶ØºØ· Ù„Ù„Ø¹Ø±Ø¶</div>
                    </div>
                `;
        container.appendChild(card);
      });
    }

    function renderVideos(videos) {
      const container = document.getElementById('videoContainer');
      container.innerHTML = '';

      videos.forEach(video => {
        const card = document.createElement('div');
        card.className = 'video-card bg-white rounded-2xl overflow-hidden border border-gray-100 shadow-sm group flex flex-col';
        card.innerHTML = `
                    <div class="relative aspect-video bg-gray-900 group-hover:opacity-90 transition-opacity cursor-pointer">
                        <video src="${video.file}" class="w-full h-full object-cover" controls preload="metadata"></video>
                        <div class="absolute inset-0 flex items-center justify-center pointer-events-none">
                        </div>
                    </div>
                    <div class="p-4 flex flex-col flex-grow">
                        <h3 class="font-bold text-gray-800 mb-2 line-clamp-2 text-sm leading-relaxed" title="${video.title}">${video.title}</h3>
                        <div class="mt-auto pt-4 flex items-center justify-between border-t border-gray-50">
                            <button class="text-xs text-gray-400 hover:text-purple-600 flex items-center gap-1 transition-colors">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path></svg>
                                Ø­ÙØ¸
                            </button>
                            ${video.summary ? `
                                <button onclick="openPDF('${video.summary}', '${video.title} - Ù…Ù„Ø®Øµ')" class="text-xs font-semibold text-purple-600 bg-purple-50 px-2 py-1 rounded hover:bg-purple-100 transition-colors">
                                    Ù…Ù„Ø®Øµ Ø§Ù„Ø¯Ø±Ø³
                                </button>
                            ` : ''}
                        </div>
                    </div>
                `;
        container.appendChild(card);
      });
    }

    function openPDF(url, title) {
      const frame = document.getElementById('pdfFrame');
      const modal = document.getElementById('pdfModal');
      const modalTitle = document.getElementById('pdfModalTitle');
      frame.src = url;
      modalTitle.innerText = title;
      modal.classList.remove('hidden');
    }

    function closePDF() {
      document.getElementById('pdfModal').classList.add('hidden');
      document.getElementById('pdfFrame').src = '';
    }
  </script>
</body>

</html>